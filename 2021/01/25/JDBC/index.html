<!DOCTYPE html>
<html>
<head>
  <meta charset="utf-8">
  
  
  <title>Rookie horse</title>
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
  <meta name="description" content="title: JDBC 原理 tags:   - JDBC  - java -  数据库 categories: JDBC JDBC全称又叫做Java DataBase Connectivity，就是Java数据库连接，说白了就是用Java语言来操作数据库。 JDBC原理JDBC主要是用于java连接数据库的，能连接什么数据库没有指定，其实能连接很多种数据库，熟知的就有oracle、mysql和">
<meta property="og:type" content="article">
<meta property="og:title" content="Rookie horse">
<meta property="og:url" content="https://four-two.github.io/mhw-hexo.github.io/2021/01/25/JDBC/index.html">
<meta property="og:site_name" content="Rookie horse">
<meta property="og:description" content="title: JDBC 原理 tags:   - JDBC  - java -  数据库 categories: JDBC JDBC全称又叫做Java DataBase Connectivity，就是Java数据库连接，说白了就是用Java语言来操作数据库。 JDBC原理JDBC主要是用于java连接数据库的，能连接什么数据库没有指定，其实能连接很多种数据库，熟知的就有oracle、mysql和">
<meta property="og:locale" content="zh_CN">
<meta property="article:published_time" content="2021-01-25T12:48:58.230Z">
<meta property="article:modified_time" content="2021-01-25T12:49:35.380Z">
<meta property="article:author" content="M R">
<meta name="twitter:card" content="summary">
  
    <link rel="alternate" href="/mhw-hexo.github.io/atom.xml" title="Rookie horse" type="application/atom+xml">
  
  
    <link rel="shortcut icon" href="/mhw-hexo.github.io/favicon.png">
  
  
    
<link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/typeface-source-code-pro@0.0.71/index.min.css">

  
  
<link rel="stylesheet" href="/mhw-hexo.github.io/css/style.css">

  
    
<link rel="stylesheet" href="/mhw-hexo.github.io/fancybox/jquery.fancybox.min.css">

  
<meta name="generator" content="Hexo 5.3.0"></head>

<body>
  <div id="container">
    <div id="wrap">
      <header id="header">
  <div id="banner"></div>
  <div id="header-outer" class="outer">
    <div id="header-title" class="inner">
      <h1 id="logo-wrap">
        <a href="/mhw-hexo.github.io/" id="logo">Rookie horse</a>
      </h1>
      
        <h2 id="subtitle-wrap">
          <a href="/mhw-hexo.github.io/" id="subtitle">Rookie horse 的博客</a>
        </h2>
      
    </div>
    <div id="header-inner" class="inner">
      <nav id="main-nav">
        <a id="main-nav-toggle" class="nav-icon"></a>
        
          <a class="main-nav-link" href="/mhw-hexo.github.io/">Home</a>
        
          <a class="main-nav-link" href="/mhw-hexo.github.io/archives">Archives</a>
        
      </nav>
      <nav id="sub-nav">
        
          <a id="nav-rss-link" class="nav-icon" href="/mhw-hexo.github.io/atom.xml" title="RSS 订阅"></a>
        
        <a id="nav-search-btn" class="nav-icon" title="搜索"></a>
      </nav>
      <div id="search-form-wrap">
        <form action="//google.com/search" method="get" accept-charset="UTF-8" class="search-form"><input type="search" name="q" class="search-form-input" placeholder="搜索"><button type="submit" class="search-form-submit">&#xF002;</button><input type="hidden" name="sitesearch" value="https://four-two.github.io/mhw-hexo.github.io"></form>
      </div>
    </div>
  </div>
</header>

      <div class="outer">
        <section id="main"><article id="post-JDBC" class="h-entry article article-type-post" itemprop="blogPost" itemscope itemtype="https://schema.org/BlogPosting">
  <div class="article-meta">
    <a href="/mhw-hexo.github.io/2021/01/25/JDBC/" class="article-date">
  <time class="dt-published" datetime="2021-01-25T12:48:58.230Z" itemprop="datePublished">2021-01-25</time>
</a>
    
  </div>
  <div class="article-inner">
    
    
    <div class="e-content article-entry" itemprop="articleBody">
      
        <hr>
<p>title: JDBC 原理</p>
<p>tags:   - JDBC  - java -  数据库</p>
<p>categories: JDBC</p>
<p>JDBC全称又叫做Java DataBase Connectivity，就是Java数据库连接，说白了就是用Java语言来操作数据库。</p>
<h2 id="JDBC原理"><a href="#JDBC原理" class="headerlink" title="JDBC原理"></a>JDBC原理</h2><p>JDBC主要是用于java连接数据库的，能连接什么数据库没有指定，其实能连接很多种数据库，熟知的就有oracle、mysql和sqlserver。数据库种类太多，为每种数据库定值连接类对于开发人员来说是非常不友好的。于是sun公司那帮人想出了一个办法，sun公司定义一套规则，数据库厂商都按照这个规则来编写自己数据库的底层原理实现API，而开发人员只需要调用其就实现对数据库的访问。这套规则就是JDBC，遵循了JDBC规范数据库厂商编写的数据库的底层原理实现API被称之为驱动。</p>
<a id="more"></a>

<p>![[Pasted image 20201226194247.png]]</p>
<h2 id="连接步骤"><a href="#连接步骤" class="headerlink" title="连接步骤"></a>连接步骤</h2><ul>
<li>第一步:注册驱动(作用:告诉Java程序，即将要连接的是哪个品牌的数据库)</li>
<li>第二步:获取连接(表示JVM的进程和数据库进程之间的通道打开了，使用完必须关闭)</li>
<li>第三步:获取数据库操作对象(专门执行sql语句的对象)</li>
<li>第四步:执行sQL语句(DQL DML….)</li>
<li>第五步:处理香询结果集(只有当第四步执行的是select语句的时才有这一步)</li>
<li>第六步:释放资源(使用完资源之后一定要关闭资源)<h2 id="数据库连接实例"><a href="#数据库连接实例" class="headerlink" title="数据库连接实例"></a>数据库连接实例</h2><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br><span class="line">81</span><br><span class="line">82</span><br><span class="line">83</span><br><span class="line">84</span><br><span class="line">85</span><br><span class="line">86</span><br><span class="line">87</span><br><span class="line">88</span><br></pre></td><td class="code"><pre><span class="line">public class Main &#123;</span><br><span class="line">    &#x2F;&#x2F; 数据库连接地址</span><br><span class="line">    private static String JDBC_URL &#x3D; null;</span><br><span class="line">    &#x2F;&#x2F; 用户名</span><br><span class="line">    private static String JDBC_USER &#x3D; null;</span><br><span class="line">    &#x2F;&#x2F; 密码</span><br><span class="line">    private static String JDBC_PASSWORD &#x3D; null;</span><br><span class="line">    &#x2F;&#x2F; 驱动</span><br><span class="line">    private static String Driver &#x3D; null;</span><br><span class="line">    &#x2F;&#x2F; 储存学生信息</span><br><span class="line">    private static final List&lt;Student&gt; students &#x3D; new ArrayList&lt;Student&gt;();</span><br><span class="line"></span><br><span class="line">    public static void main(String[] args) throws SQLException, IOException &#123;</span><br><span class="line">        &#x2F;&#x2F; 读取配置文件</span><br><span class="line">        InputStream in &#x3D; Main.class.getClassLoader().getResourceAsStream(&quot;jdbc.properties&quot;);</span><br><span class="line">        Properties properties &#x3D; new Properties();</span><br><span class="line">        properties.load(in);</span><br><span class="line">        JDBC_URL &#x3D; properties.getProperty(&quot;JDBC_URL&quot;);</span><br><span class="line">        JDBC_USER &#x3D; properties.getProperty(&quot;JDBC_USER&quot;);</span><br><span class="line">        JDBC_PASSWORD &#x3D; properties.getProperty(&quot;JDBC_PASSWORD&quot;);</span><br><span class="line">        Driver &#x3D; properties.getProperty(&quot;Driver&quot;);</span><br><span class="line"></span><br><span class="line">        &#x2F;&#x2F; 注册驱动 利用反射加载静态方法块注册</span><br><span class="line">        try &#123;</span><br><span class="line">            Class.forName(Driver);</span><br><span class="line">        &#125; catch (ClassNotFoundException e) &#123;</span><br><span class="line">            System.out.println(&quot;找不到驱动程序类 ，加载驱动失败！&quot;);</span><br><span class="line">            e.printStackTrace();</span><br><span class="line">        &#125;</span><br><span class="line"></span><br><span class="line">        &#x2F;&#x2F; 获取连接对象</span><br><span class="line">        try (Connection conn &#x3D; DriverManager.getConnection(JDBC_URL, JDBC_USER, JDBC_PASSWORD)) &#123;</span><br><span class="line">            &#x2F;&#x2F; 需要执行的sql语句</span><br><span class="line">            String sql &#x3D; &quot;SELECT * FROM student WHERE sdept&#x3D;?&quot;;</span><br><span class="line">            &#x2F;&#x2F; 获取可执行sql的对象（避免注入攻击）</span><br><span class="line">            try (PreparedStatement preparedStatement &#x3D; conn.prepareStatement(sql)) &#123;</span><br><span class="line">                &#x2F;&#x2F; 设置参数</span><br><span class="line">                preparedStatement.setObject(1, &quot;软件工程&quot;);</span><br><span class="line">                &#x2F;&#x2F; 执行</span><br><span class="line">                try (ResultSet rs &#x3D; preparedStatement.executeQuery()) &#123;</span><br><span class="line">                    &#x2F;**</span><br><span class="line">                     * 执行查询 .executeQuery() 查</span><br><span class="line">                     * 返回值 ResultSet结果集</span><br><span class="line">                     * 执行更新 .executeUpdate() 增 删 改</span><br><span class="line">                     * 返回值 int（更新数量）</span><br><span class="line">                     *&#x2F;</span><br><span class="line">                    &#x2F;&#x2F;遍历结果集，取出数据（.next()返回布尔值）</span><br><span class="line">                    while (rs.next()) &#123;</span><br><span class="line">                        Student student &#x3D; new Student();</span><br><span class="line">                        student.setSno(rs.getString(&quot;Sno&quot;));</span><br><span class="line">                        student.setSname(rs.getString(&quot;Sname&quot;));</span><br><span class="line">                        student.setSsex(rs.getString(&quot;Ssex&quot;));</span><br><span class="line">                        student.setSage(rs.getInt(&quot;Sage&quot;));</span><br><span class="line">                        student.setSdept(rs.getString(&quot;Sdept&quot;));</span><br><span class="line">                        students.add(student);</span><br><span class="line">                    &#125;</span><br><span class="line">                &#125;</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;</span><br><span class="line"></span><br><span class="line">        &#x2F;&#x2F; 输出结果</span><br><span class="line">        students.forEach(System.out::println);</span><br><span class="line">&#x2F;&#x2F;        useBatch(students);</span><br><span class="line">    &#125;</span><br><span class="line">    &#x2F;&#x2F; 只有参数不同的若干语句可以使用batch执行</span><br><span class="line">    public static void useBatch(List&lt;Student&gt; list) throws SQLException &#123;</span><br><span class="line">        try (Connection conn &#x3D; DriverManager.getConnection(JDBC_URL, JDBC_USER, JDBC_PASSWORD)) &#123;</span><br><span class="line">            try (PreparedStatement ps &#x3D; conn.prepareStatement(&quot;INSERT INTO student  VALUES (?, ?, ?, ?, ?)&quot;)) &#123;</span><br><span class="line">                &#x2F;&#x2F; 对同一个PreparedStatement反复设置参数并调用addBatch():</span><br><span class="line">                for (Student s : list) &#123;</span><br><span class="line">                    ps.setString(1, s.getSno() + 1);</span><br><span class="line">                    ps.setString(2, s.getSname());</span><br><span class="line">                    ps.setString(3, s.getSsex());</span><br><span class="line">                    ps.setInt(4, s.getSage());</span><br><span class="line">                    ps.setString(5, s.getSdept());</span><br><span class="line">                    &#x2F;&#x2F; 添加到batch</span><br><span class="line">                    ps.addBatch();</span><br><span class="line">                &#125;</span><br><span class="line">                &#x2F;&#x2F; 执行batch:</span><br><span class="line">                int[] ns &#x3D; ps.executeBatch();</span><br><span class="line">                for (int n : ns) &#123;</span><br><span class="line">                    &#x2F;&#x2F; batch中每个SQL执行的结果数量</span><br><span class="line">                    System.out.println(n + &quot; inserted.&quot;);</span><br><span class="line">                &#125;</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
Student类：<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br></pre></td><td class="code"><pre><span class="line">public class Student &#123;</span><br><span class="line">    private String Sno;</span><br><span class="line">    private String Sname;</span><br><span class="line">    private String Ssex;</span><br><span class="line">    private String Sdept;</span><br><span class="line">    private int Sage;</span><br><span class="line"></span><br><span class="line">    public String getSno() &#123;</span><br><span class="line">        return Sno;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    public void setSno(String sno) &#123;</span><br><span class="line">        Sno &#x3D; sno;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    public String getSname() &#123;</span><br><span class="line">        return Sname;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    public void setSname(String sname) &#123;</span><br><span class="line">        Sname &#x3D; sname;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    public String getSsex() &#123;</span><br><span class="line">        return Ssex;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    public void setSsex(String ssex) &#123;</span><br><span class="line">        Ssex &#x3D; ssex;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    public String getSdept() &#123;</span><br><span class="line">        return Sdept;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    public void setSdept(String sdept) &#123;</span><br><span class="line">        Sdept &#x3D; sdept;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    public int getSage() &#123;</span><br><span class="line">        return Sage;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    public void setSage(int sage) &#123;</span><br><span class="line">        Sage &#x3D; sage;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    @Override</span><br><span class="line">    public String toString() &#123;</span><br><span class="line">        return String.format(&quot;&#123;Student: id&#x3D;%s, name&#x3D;%s, Sex&#x3D;%s, age&#x3D;%d, dept&#x3D;%s&#125;&quot;, this.Sno, this.Sname, this.Ssex, this.Sage, this.Sdept);</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
配置文件：<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">Driver &#x3D; com.mysql.cj.jdbc.Driver</span><br><span class="line">JDBC_URL &#x3D; jdbc:mysql:&#x2F;&#x2F;localhost:3306&#x2F;learnjdbc?serverTimezone&#x3D;GMT</span><br><span class="line">JDBC_USER &#x3D; root</span><br><span class="line">JDBC_PASSWORD &#x3D; 123456</span><br></pre></td></tr></table></figure>
数据库字段：<br>![[Pasted image 20201226200008.png]]</li>
</ul>
<h2 id="数据库连接封装类："><a href="#数据库连接封装类：" class="headerlink" title="数据库连接封装类："></a>数据库连接封装类：</h2><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br></pre></td><td class="code"><pre><span class="line">public class DBUtil &#123;</span><br><span class="line">    &#x2F;&#x2F; 数据库连接地址</span><br><span class="line">    private static String JDBC_URL &#x3D; null;</span><br><span class="line">    &#x2F;&#x2F; 用户名</span><br><span class="line">    private static String JDBC_USER &#x3D; null;</span><br><span class="line">    &#x2F;&#x2F; 密码</span><br><span class="line">    private static String JDBC_PASSWORD &#x3D; null;</span><br><span class="line">    &#x2F;&#x2F; 驱动</span><br><span class="line">    private static String Driver &#x3D; null;</span><br><span class="line"></span><br><span class="line">    &#x2F;&#x2F; 构造方法</span><br><span class="line">    private DBUtil() &#123;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    &#x2F;&#x2F; 静态代码块，只在类加载的时候执行一次。</span><br><span class="line">    static &#123;</span><br><span class="line">        &#x2F;&#x2F; 读取配置文件</span><br><span class="line">        InputStream in &#x3D; Main.class.getClassLoader().getResourceAsStream(&quot;jdbc.properties&quot;);</span><br><span class="line">        Properties properties &#x3D; new Properties();</span><br><span class="line">        try &#123;</span><br><span class="line">            properties.load(in);</span><br><span class="line">        &#125; catch (IOException e) &#123;</span><br><span class="line">            e.printStackTrace();</span><br><span class="line">        &#125;</span><br><span class="line">        JDBC_URL &#x3D; properties.getProperty(&quot;JDBC_URL&quot;);</span><br><span class="line">        JDBC_USER &#x3D; properties.getProperty(&quot;JDBC_USER&quot;);</span><br><span class="line">        JDBC_PASSWORD &#x3D; properties.getProperty(&quot;JDBC_PASSWORD&quot;);</span><br><span class="line">        Driver &#x3D; properties.getProperty(&quot;Driver&quot;);</span><br><span class="line"></span><br><span class="line">        try &#123;</span><br><span class="line">            Class.forName(Driver);</span><br><span class="line">        &#125; catch (ClassNotFoundException e) &#123;</span><br><span class="line">            System.out.println(&quot;找不到驱动程序类 ，加载驱动失败！&quot;);</span><br><span class="line">            e.printStackTrace();</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">    &#x2F;**</span><br><span class="line">     * 获取数据库连接对象</span><br><span class="line">     * @throws  SQLException</span><br><span class="line">     * @return 连接对象</span><br><span class="line">     *&#x2F;</span><br><span class="line">    public static Connection getconnection() throws SQLException &#123;</span><br><span class="line">        return DriverManager.getConnection(JDBC_URL, JDBC_USER, JDBC_PASSWORD);</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    &#x2F;**</span><br><span class="line">     * 关闭资源</span><br><span class="line">     * @param connection 数据库连接对象</span><br><span class="line">     * @param statement 数据库操作对象</span><br><span class="line">     * @param resultSet 数据库查询结果集</span><br><span class="line">     *&#x2F;</span><br><span class="line">    public static void close(Connection connection, Statement statement, ResultSet resultSet) &#123;</span><br><span class="line">        if (resultSet !&#x3D; null) &#123;</span><br><span class="line">            try &#123;</span><br><span class="line">                resultSet.close();</span><br><span class="line">            &#125; catch (SQLException throwables) &#123;</span><br><span class="line">                throwables.printStackTrace();</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;</span><br><span class="line">        if (statement !&#x3D; null) &#123;</span><br><span class="line">            try &#123;</span><br><span class="line">                statement.close();</span><br><span class="line">            &#125; catch (SQLException throwables) &#123;</span><br><span class="line">                throwables.printStackTrace();</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;</span><br><span class="line">        if (connection !&#x3D; null) &#123;</span><br><span class="line">            try &#123;</span><br><span class="line">                connection.close();</span><br><span class="line">            &#125; catch (SQLException throwables) &#123;</span><br><span class="line">                throwables.printStackTrace();</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<h2 id="连接池原理"><a href="#连接池原理" class="headerlink" title="连接池原理"></a>连接池原理</h2><p>数据库连接是一种昂贵的资源,频繁的创建/销毁连接势必会造成不必要的系统开销，增加相应时间。数据库连接池正式针对这个问题提出来的.数据库连接池负责分配,管理和释放数据库连接,它允许应用程序重复使用一个现有的数据库连接,而不是重新建立一个。如下图所示：<br>![[Pasted image 20201230192213.png]]<br>数据库连接池在初始化时将创建一定数量的数据库连接放到连接池中, 这些数据库连接的数量是由最小数据库连接数来设定的.无论这些数据库连接是否被使用,连接池都将一直保证至少拥有这么多的连接数量.连接池的最大数据库连接数量限定了这个连接池能占有的最大连接数,当应用程序向连接池请求的连接数超过最大连接数量时,这些请求将被加入到等待队列中。</p>
<h2 id="自定义连接池"><a href="#自定义连接池" class="headerlink" title="自定义连接池"></a>自定义连接池</h2>
      
    </div>
    <footer class="article-footer">
      <a data-url="https://four-two.github.io/mhw-hexo.github.io/2021/01/25/JDBC/" data-id="ckkckiox30000h8va579tg0lt" data-title="" class="article-share-link">分享</a>
      
      
      
    </footer>
  </div>
  
    
<nav id="article-nav">
  
  
    <a href="/mhw-hexo.github.io/2021/01/25/hello-world/" id="article-nav-older" class="article-nav-link-wrap">
      <strong class="article-nav-caption">后一篇</strong>
      <div class="article-nav-title">Hello World</div>
    </a>
  
</nav>

  
</article>


</section>
        
          <aside id="sidebar">
  
    

  
    

  
    
  
    
  <div class="widget-wrap">
    <h3 class="widget-title">归档</h3>
    <div class="widget">
      <ul class="archive-list"><li class="archive-list-item"><a class="archive-list-link" href="/mhw-hexo.github.io/archives/2021/01/">一月 2021</a></li></ul>
    </div>
  </div>


  
    
  <div class="widget-wrap">
    <h3 class="widget-title">最新文章</h3>
    <div class="widget">
      <ul>
        
          <li>
            <a href="/mhw-hexo.github.io/2021/01/25/JDBC/">(no title)</a>
          </li>
        
          <li>
            <a href="/mhw-hexo.github.io/2021/01/25/hello-world/">Hello World</a>
          </li>
        
      </ul>
    </div>
  </div>

  
</aside>
        
      </div>
      <footer id="footer">
  
  <div class="outer">
    <div id="footer-info" class="inner">
      
      &copy; 2021 M R<br>
      Powered by <a href="https://hexo.io/" target="_blank">Hexo</a>
    </div>
  </div>
</footer>

    </div>
    <nav id="mobile-nav">
  
    <a href="/mhw-hexo.github.io/" class="mobile-nav-link">Home</a>
  
    <a href="/mhw-hexo.github.io/archives" class="mobile-nav-link">Archives</a>
  
</nav>
    


<script src="/mhw-hexo.github.io/js/jquery-3.4.1.min.js"></script>



  
<script src="/mhw-hexo.github.io/fancybox/jquery.fancybox.min.js"></script>




<script src="/mhw-hexo.github.io/js/script.js"></script>





  </div>
</body>
</html>